<!-- Generated by generate_stages.py, do not edit by hand -->
<!-- Run 'make analysis' to regenerate this file -->

# Docker Image Dependency Analysis Report

## Summary

- Total Dockerfiles found: 47
- Images with local dependencies: 34
- Build stages required: 6

## Dependency Tree

```text
✓ alma9 ← almalinux/9-base (external)
✓ alma9-rig ← alma9 ← ghcr.io/cynkra/docker-images/alma9:latest
✓ alma9-rig-rrel ← alma9-rig ← ghcr.io/cynkra/docker-images/alma9-rig:latest
✓ alma9-rig-rrel-coinor ← alma9-rig-rrel ← ghcr.io/cynkra/docker-images/alma9-rig-rrel:latest
✓ build-dust ← rust:latest (external)
✓ clang18-duckdb ← rhub/clang18 (external)
✓ dust ← scratch (external)
  └─ COPY --from build-dust ← ghcr.io/cynkra/docker-images/build-dust:latest
✓ r-debug ← ubuntu:22.04 (external)
✓ r-debug-csan ← r-debug ← ghcr.io/cynkra/docker-images/r-debug:latest
✓ r-debug-csan-igraph ← r-debug-csan ← ghcr.io/cynkra/docker-images/r-debug-csan:latest
✓ r-debug-san ← r-debug ← ghcr.io/cynkra/docker-images/r-debug:latest
✓ r-debug-san-igraph ← r-debug-san ← ghcr.io/cynkra/docker-images/r-debug-san:latest
✓ r-debug-strictbarrier ← r-debug ← ghcr.io/cynkra/docker-images/r-debug:latest
✓ r-debug-strictbarrier-igraph ← r-debug-strictbarrier ← ghcr.io/cynkra/docker-images/r-debug-strictbarrier:latest
✓ r-debug-threadcheck ← r-debug ← ghcr.io/cynkra/docker-images/r-debug:latest
✓ r-debug-threadcheck-igraph ← r-debug-threadcheck ← ghcr.io/cynkra/docker-images/r-debug-threadcheck:latest
✓ r-debug-valgrind ← r-debug ← ghcr.io/cynkra/docker-images/r-debug:latest
✓ r-debug-valgrind-igraph ← r-debug-valgrind ← ghcr.io/cynkra/docker-images/r-debug-valgrind:latest
✓ r-minimal ← ubuntu:latest (external)
✓ rchk-igraph ← kalibera/rchk:latest (external)
✓ rig-debian ← debian:bookworm (external)
✓ rig-rocky8 ← rockylinux:8 (external)
✓ rig-ubuntu ← ubuntu:22.04 (external)
✓ rig-ubuntu-dbi ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ rig-ubuntu-dm ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ rig-ubuntu-duckdb ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ rig-ubuntu-duckdb-dev ← rig-ubuntu-duckdb ← ghcr.io/cynkra/docker-images/rig-ubuntu-duckdb:latest
✓ rig-ubuntu-duckdb4 ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ rig-ubuntu-igraph ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ rig-ubuntu-r-postgres ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ rig-ubuntu-revdepcheck ← rig-ubuntu ← ghcr.io/cynkra/docker-images/rig-ubuntu:latest
✓ sops-age ← alpine:latest (external)
✓ sssd-almalinux ← almalinux:9 (external)
✓ tofutf ← ghcr.io/tofutf/tofutf/tofutfd:v0.10.0-4-g1de178b7 (external)
✓ ubuntu24 ← ubuntu:24.04 (external)
✓ ubuntu24-msfonts ← ubuntu24 ← ghcr.io/cynkra/docker-images/ubuntu24:latest
✓ ubuntu24-rig ← ubuntu24 ← ghcr.io/cynkra/docker-images/ubuntu24:latest
✓ ubuntu24-rig-rdev ← ubuntu24-rig ← ghcr.io/cynkra/docker-images/ubuntu24-rig:latest
✓ ubuntu24-rig-rdev-dc ← ubuntu24-rig-rdev ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev:latest
  └─ COPY --from dust ← ghcr.io/cynkra/docker-images/dust:latest
✓ ubuntu24-rig-rdev-dc-dt ← ubuntu24-rig-rdev-dc ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev-dc:latest
✓ ubuntu24-rig-rdev-gcc14 ← ubuntu24-rig-rdev ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev:latest
✓ ubuntu24-rig-rdev-gcc14-duckdb ← ubuntu24-rig-rdev-gcc14 ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev-gcc14:latest
✓ ubuntu24-rig-rrel ← ubuntu24-rig ← ghcr.io/cynkra/docker-images/ubuntu24-rig:latest
✓ ubuntu24-rig-rrel-dc ← ubuntu24-rig-rrel ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel:latest
  └─ COPY --from dust ← ghcr.io/cynkra/docker-images/dust:latest
✓ ubuntu24-rig-rrel-dc-dt ← ubuntu24-rig-rrel-dc ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel-dc:latest
✓ ubuntu24-rig-rrel-dc-dt-dm ← ubuntu24-rig-rrel-dc-dt ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel-dc-dt:latest
✓ ubuntu24-rig-rrel-dc-dt-pkgcache ← ubuntu24-rig-rrel-dc-dt ← ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel-dc-dt:latest
```

## Build Order (Topological Sort)

### Stage 1

- alma9
- build-dust
- r-debug
- rig-ubuntu
- ubuntu24

### Stage 2

- alma9-rig
- dust
- r-debug-csan
- r-debug-san
- r-debug-strictbarrier
- r-debug-threadcheck
- r-debug-valgrind
- rig-ubuntu-dbi
- rig-ubuntu-dm
- rig-ubuntu-duckdb
- rig-ubuntu-duckdb4
- rig-ubuntu-igraph
- rig-ubuntu-r-postgres
- rig-ubuntu-revdepcheck
- ubuntu24-msfonts
- ubuntu24-rig

### Stage 3

- alma9-rig-rrel
- r-debug-csan-igraph
- r-debug-san-igraph
- r-debug-strictbarrier-igraph
- r-debug-threadcheck-igraph
- r-debug-valgrind-igraph
- rig-ubuntu-duckdb-dev
- ubuntu24-rig-rdev
- ubuntu24-rig-rrel

### Stage 4

- alma9-rig-rrel-coinor
- ubuntu24-rig-rdev-dc
- ubuntu24-rig-rdev-gcc14
- ubuntu24-rig-rrel-dc

### Stage 5

- ubuntu24-rig-rdev-dc-dt
- ubuntu24-rig-rdev-gcc14-duckdb
- ubuntu24-rig-rrel-dc-dt

### Stage 6

- ubuntu24-rig-rrel-dc-dt-dm
- ubuntu24-rig-rrel-dc-dt-pkgcache


## External Dependencies

### FROM Dependencies

- `almalinux/9-base` used by: alma9
- `almalinux:9` used by: sssd-almalinux
- `alpine:latest` used by: sops-age
- `debian:bookworm` used by: rig-debian
- `ghcr.io/tofutf/tofutf/tofutfd:v0.10.0-4-g1de178b7` used by: tofutf
- `kalibera/rchk:latest` used by: rchk-igraph
- `rhub/clang18` used by: clang18-duckdb
- `rockylinux:8` used by: rig-rocky8
- `rust:latest` used by: build-dust
- `scratch` used by: dust
- `ubuntu:22.04` used by: rig-ubuntu, r-debug
- `ubuntu:24.04` used by: ubuntu24
- `ubuntu:latest` used by: r-minimal

## FROM Instruction Validation

This section shows the expected FROM instructions based on directory hierarchy:

- `alma9` (root): FROM `almalinux/9-base` ✓
- `alma9-rig`: FROM `ghcr.io/cynkra/docker-images/alma9:latest` ✓
- `alma9-rig-rrel`: FROM `ghcr.io/cynkra/docker-images/alma9-rig:latest` ✓
- `alma9-rig-rrel-coinor`: FROM `ghcr.io/cynkra/docker-images/alma9-rig-rrel:latest` ✓
- `build-dust` (root): FROM `rust:latest` ✓
- `clang18-duckdb` (root): FROM `rhub/clang18` ✓
- `dust` (root): FROM `scratch` ✓
- `r-debug` (root): FROM `ubuntu:22.04` ✓
- `r-debug-csan`: FROM `ghcr.io/cynkra/docker-images/r-debug:latest` ✓
- `r-debug-csan-igraph`: FROM `ghcr.io/cynkra/docker-images/r-debug-csan:latest` ✓
- `r-debug-san`: FROM `ghcr.io/cynkra/docker-images/r-debug:latest` ✓
- `r-debug-san-igraph`: FROM `ghcr.io/cynkra/docker-images/r-debug-san:latest` ✓
- `r-debug-strictbarrier`: FROM `ghcr.io/cynkra/docker-images/r-debug:latest` ✓
- `r-debug-strictbarrier-igraph`: FROM `ghcr.io/cynkra/docker-images/r-debug-strictbarrier:latest` ✓
- `r-debug-threadcheck`: FROM `ghcr.io/cynkra/docker-images/r-debug:latest` ✓
- `r-debug-threadcheck-igraph`: FROM `ghcr.io/cynkra/docker-images/r-debug-threadcheck:latest` ✓
- `r-debug-valgrind`: FROM `ghcr.io/cynkra/docker-images/r-debug:latest` ✓
- `r-debug-valgrind-igraph`: FROM `ghcr.io/cynkra/docker-images/r-debug-valgrind:latest` ✓
- `r-minimal` (root): FROM `ubuntu:latest` ✓
- `rchk-igraph` (root): FROM `kalibera/rchk:latest` ✓
- `rig-debian` (root): FROM `debian:bookworm` ✓
- `rig-rocky8` (root): FROM `rockylinux:8` ✓
- `rig-ubuntu` (root): FROM `ubuntu:22.04` ✓
- `rig-ubuntu-dbi`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `rig-ubuntu-dm`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `rig-ubuntu-duckdb`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `rig-ubuntu-duckdb-dev`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu-duckdb:latest` ✓
- `rig-ubuntu-duckdb4`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `rig-ubuntu-igraph`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `rig-ubuntu-r-postgres`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `rig-ubuntu-revdepcheck`: FROM `ghcr.io/cynkra/docker-images/rig-ubuntu:latest` ✓
- `sops-age` (root): FROM `alpine:latest` ✓
- `sssd-almalinux` (root): FROM `almalinux:9` ✓
- `tofutf` (root): FROM `ghcr.io/tofutf/tofutf/tofutfd:v0.10.0-4-g1de178b7` ✓
- `ubuntu24` (root): FROM `ubuntu:24.04` ✓
- `ubuntu24-msfonts`: FROM `ghcr.io/cynkra/docker-images/ubuntu24:latest` ✓
- `ubuntu24-rig`: FROM `ghcr.io/cynkra/docker-images/ubuntu24:latest` ✓
- `ubuntu24-rig-rdev`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig:latest` ✓
- `ubuntu24-rig-rdev-dc`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev:latest` ✓
- `ubuntu24-rig-rdev-dc-dt`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev-dc:latest` ✓
- `ubuntu24-rig-rdev-gcc14`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev:latest` ✓
- `ubuntu24-rig-rdev-gcc14-duckdb`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rdev-gcc14:latest` ✓
- `ubuntu24-rig-rrel`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig:latest` ✓
- `ubuntu24-rig-rrel-dc`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel:latest` ✓
- `ubuntu24-rig-rrel-dc-dt`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel-dc:latest` ✓
- `ubuntu24-rig-rrel-dc-dt-dm`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel-dc-dt:latest` ✓
- `ubuntu24-rig-rrel-dc-dt-pkgcache`: FROM `ghcr.io/cynkra/docker-images/ubuntu24-rig-rrel-dc-dt:latest` ✓

To update FROM instructions automatically, run:
```bash
make check-from   # dry run
make update-from  # apply changes
```
